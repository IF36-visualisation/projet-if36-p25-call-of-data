---
title: "Livrable1"
output: html_document
author: "Ahamad MOHAMMAD; Minko Bikono NEIL-JOVY; Simon GELBART; Willen AMICHE"
---


# ğŸ“Š Description des variables

## ğŸ§â€â™‚ï¸ Player Stats 2021-2022 (`2021-2022 Football Player Stats.csv`)

143 variables â€“ chaque ligne correspond Ã  un joueur pour la saison 2021-2022.

| Variable          | Type      | Description approximative |
|-------------------|-----------|----------------------------|
| `Rk`              | int64     | Rang ou ID du joueur       |
| `Player`          | object    | Nom du joueur              |
| `Nation`          | object    | NationalitÃ©                |
| `Pos`             | object    | Poste                      |
| `Squad`           | object    | Club                       |
| `Comp`            | object    | CompÃ©tition principale     |
| `Age`             | object    | Ã‚ge                        |
| `Born`            | object    | AnnÃ©e de naissance         |
| ...               | ...       | ...et plus de 130 autres statistiques de jeu : buts, passes, tirs, dribbles, fautes, tacles, interceptions, passes progressives, etc. |
| `AerWon`          | float64   | Duels aÃ©riens gagnÃ©s       |
| `AerLost`         | float64   | Duels aÃ©riens perdus       |
| `AerWon%`         | float64   | Pourcentage de duels aÃ©riens gagnÃ©s |

---

## ğŸŸï¸ Team Stats 2021-2022 (`2021-2022 Football Team Stats.csv`)

20 variables â€“ chaque ligne correspond Ã  une Ã©quipe.

| Variable          | Type      | Description |
|------------------|-----------|-------------|
| `Rk`             | int64     | Rang        |
| `Squad`          | object    | Nom du club |
| `Country`        | object    | Pays        |
| `LgRk`           | int64     | Classement dans la ligue |
| `MP`, `W`, `D`, `L` | int64  | Matchs jouÃ©s, Victoires, Nuls, DÃ©faites |
| `GF`, `GA`, `GD` | int64     | Buts pour, contre, diffÃ©rence |
| `Pts`, `Pts/G`   | int64 / float64 | Points et moyenne par match |
| `xG`, `xGA`, `xGD`, `xGD/90` | float64 | DonnÃ©es dâ€™expected goals |
| `Attendance`     | int64     | Affluence moyenne |
| `Top Team Scorer`| object    | Meilleur buteur |
| `Goalkeeper`     | object    | Gardien principal |

---

## ğŸŸï¸ Team Stats 2022-2023 (`2022-2023 Football Team Stats.csv`)

MÃªme structure et signification que pour 2021-2022, mais avec la saison suivante.

---

## ğŸ”„ Transfers Ã‰tÃ© 2022 (`2022_2023_football_summer_transfers.csv`)

11 variables â€“ chaque ligne correspond Ã  un transfert.

| Variable        | Type    | Description |
|----------------|---------|-------------|
| `name`         | object  | Nom du joueur transfÃ©rÃ© |
| `position`     | object  | Poste            |
| `age`          | object  | Ã‚ge              |
| `market_value` | object  | Valeur estimÃ©e   |
| `country_from` | object  | Pays de dÃ©part   |
| `league_from`  | object  | Ligue de dÃ©part  |
| `club_from`    | object  | Club de dÃ©part   |
| `country_to`   | object  | Pays dâ€™arrivÃ©e   |
| `league_to`    | object  | Ligue dâ€™arrivÃ©e  |
| `club_to`      | object  | Club dâ€™arrivÃ©e   |
| `fee`          | object  | Montant du transfert (peut contenir "Free", "Loan", etc.) |

---

```{r}
# Chargement des packages nÃ©cessaires

library(tidyverse)
library(ggplot2)
```


```{r importation-donnees, message=FALSE, warning=FALSE}
# Importation des donnÃ©es

player_stats_2021_2022 <- read.csv("data/2021-2022 Football Player Stats.csv", sep = ";", fileEncoding = "ISO-8859-1")
team_stats_2021_2022 <- read.csv("data/2021-2022 Football Team Stats.csv", sep = ";", fileEncoding = "ISO-8859-1")
team_stats_2022_2023 <- read.csv("data/2022-2023 Football Team Stats.csv", sep = ";", fileEncoding = "ISO-8859-1")
transfers_2022 <- read.csv("data/2022_2023_football_summer_transfers.csv", sep = ",", fileEncoding = "ISO-8859-1")

```


## Question 1: Quels clubs ont le plus recrutÃ© par poste (top 20) ?

### ğŸ¯ Objectif
Identifier les **20 clubs les plus actifs** lors du mercato dâ€™Ã©tÃ© 2022 en termes de nombre de recrues, puis visualiser quels postes ont Ã©tÃ© ciblÃ©s en prioritÃ© par ces clubs. Cela permet de mieux comprendre les **stratÃ©gies de renforcement** des effectifs selon les lignes de jeu (dÃ©fense, milieu, attaque).


```{r}
# Nettoyage de base
transfers_clean <- transfers_2022 %>%
  filter(!is.na(club_to), !is.na(position), position != "")

# Regrouper et compter
recrutements_par_poste <- transfers_clean %>%
  group_by(club_to, position) %>%
  summarise(nb_recrues = n(), .groups = "drop")

# Garder uniquement les 20 clubs ayant recrutÃ© le plus globalement
top_clubs <- recrutements_par_poste %>%
  group_by(club_to) %>%
  summarise(total_recrues = sum(nb_recrues)) %>%
  top_n(20, total_recrues) %>%
  pull(club_to)

# Filtrer les donnÃ©es
recrutements_top <- recrutements_par_poste %>%
  filter(club_to %in% top_clubs)

# Visualisation 
ggplot(recrutements_top, aes(x = position, y = fct_reorder(club_to, nb_recrues), fill = nb_recrues)) +
  geom_tile(color = "white") +
  scale_fill_gradient(low = "lightblue", high = "darkblue") +
  labs(
    title = "Top 20 clubs â€“ nombre de recrues par poste (Ã©tÃ© 2022)",
    x = "Poste",
    y = "Club",
    fill = "Nombre de recrues"
  ) +
  theme_minimal(base_size = 12) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

### ğŸ§  InterprÃ©tation du graphique

- ğŸ”µ **US Salernitana 1919** est le club qui a le plus recrutÃ© tous postes confondus, avec un **focus important sur les milieux offensifs** et **dÃ©fenseurs centraux**.

- ğŸ”µ **US Lecce**, **US Cremonese** et **Udinese Calcio** (clubs italiens) montrent aussi une stratÃ©gie de **renforcement dÃ©fensif**, particuliÃ¨rement en **centre-back**.

- ğŸ”µ **Olympique de Marseille** et **Nottingham Forest** ont **diversifiÃ© leurs recrutements** sur plusieurs lignes, y compris **les ailes** (*left/right winger*).

- ğŸ¯ On observe une **forte demande en milieux de terrain**, notamment :
  - *Attacking Midfield*
  - *Defensive Midfield*
  - *Centre Midfield*

-  Peu de clubs ont recrutÃ© plusieurs **gardiens**, ce qui est logique : un club nâ€™en fait souvent venir quâ€™un seul par saison.

-  Certains clubs comme **FC Empoli** ou **OGC Nice** prÃ©sentent une stratÃ©gie de recrutement **Ã©quilibrÃ©e sur diffÃ©rentes lignes**, ce qui pourrait indiquer un **renouvellement global de lâ€™effectif**.




## Question 2: 


### ğŸ¯ Objectif


```{r}

```


### ğŸ§  InterprÃ©tation du graphique



## Question 3: 


### ğŸ¯ Objectif


```{r}

```


### ğŸ§  InterprÃ©tation du graphique




## Question 4: 


### ğŸ¯ Objectif


```{r}

```


### ğŸ§  InterprÃ©tation du graphique